<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <style>
        body
        {
            background-color: antiquewhite;
        }
        fieldset
        {
            width:200px;
            height: 400px;
        }
    </style>
</head>
<body>
    
<fieldset>
<center>
    <h1>Regsitration form</h1>
</center> 
 <form action="" id="form" method="post"> 
       Name:<input type="text" name="name" id="name">
       Email:<input type="email" name="email" id="email">
       Password:<input type="password" name="pwd" id="pwd">
       Mobile:<input type="tel" name="mobile" id="mobile">
       Address:<input type="text" name="address" id="address">

       <input type="submit" value="Register">
 </form>
</fieldset>


<script>
document.getElementById("form").addEventListener("submit",async function(event) 
{
    event.preventDefault();
    const employee={
        name:document.getElementById("name").value,
        email:document.getElementById("email").value,
        pwd:document.getElementById("pwd").value,
        mobile:document.getElementById("mobile").value,
        address:document.getElementById("address").value
    }
    console.log(employee);

   try 
   {   
    let  res=await fetch("http://localhost:8080/save",
       {
        method:"post",
        headers:{"content-type":"application/json"},
        body:JSON.stringify(employee)
      }) 

      if (res.status==201)
       {
        console.log(res);
        
         alert("data saved successfully ðŸ’•ðŸ’•") 
         window.location.href="dashboard.html";
       }
   } 
   catch (error) 
   {
        console.log(error);     
   }
}
)



</script>

</body>
</html>